

<h2 class="text-center" style="color:#1a001a;" > <i class="fas fa-location-arrow"></i> <%= @activity.name %></h2>

<table class="table table-borderless">
      
      <tbody>

        <tr>
          <th width="10"></th>
          <th class="text-left" width="150"><i class="far fa-calendar"></i></i> <strong>Event :</strong> </th>
          <td class="text-left"><%= link_to @activity.event.name, "/events/#{@activity.event.id}" %></td>
        </tr>

        <tr>
          <th width="10"></th>
          <th class="text-left" width="150"><i class="fas fa-pen-alt"></i> <strong>Description :</strong> </th>
          <td class="text-left"><%= @activity.description %></td>
        </tr>
        
        <tr>
          <th width="10"></th>
          <th class="text-left" width="150"><i class="fas fa-hourglass-start"></i> <strong>Start time :</strong></th>
          <td class="text-left">
              <%= @activity.start_time.to_time.strftime('%e %B %Y at %l:%M %p') %>
          </td>
        </tr>

        <tr>
          <th width="10"></th>
          <th class="text-left" width="150"><i class="fas fa-hourglass-end"></i> <strong>End time:</strong></th>
          <td class="text-left"><%= @activity.end_time.to_time.strftime('%e %B %Y at %l:%M %p') %></td>
        </tr>

      </tbody>
      
</table>


<%= link_to '<button type="button" class="btn btn-info"><i class="fas fa-edit"></i> Edit </button>'.html_safe, edit_activity_path(@activity) %>  

<%= link_to '<button type="button" class="btn btn-warning"><i class="fas fa-arrow-circle-left"></i> Back </button>'.html_safe, event_path(@activity.event_id) %>  


<hr>

<h3 class="text-center" style="color:#1a001a;" > <i class="fas fa-clipboard-list"></i> Requirements of <%= @activity.name %></h3>

<%= link_to '<button type="button" class="btn btn-success"><i class="fas fa-plus-square"></i> Add new requirement</button>'.html_safe, "/requirements/new?activity_id=#{@activity.id}" %>
<br>
<br>

<table class="table table-striped">

  <thead>
    <tr class="text-center" >
      <th>Title</th>
      <th>Description</th>
      
      <th>Status</th>

      <% if current_user.admin? or current_user.chair? %>
          <th colspan="2"></th>      
      
          <th >Approved</th>
      <% end %>

    </tr>
  </thead>

  <tbody>
    <% @requirements.each do |requirement| %>
      <tr>
        <td><%= link_to requirement.title, requirement %></td>
        <td><%= requirement.description %></td>
        <td class="text-center">
          <% if requirement.satisfied == true %>
                <!-- satisfied = true -->
               <p style="color:green;"><i class="fas fa-check-circle"></i> Approved</p> 

          <% else %> 
              <!-- non-satisfied -->
               <p style="color:red;"><i class="fas fa-times-circle"></i></i> Not approve</p>  

          <% end %>
        </td>

      <% if current_user.admin? or current_user.chair? %> 

        <td> 
            <%= link_to '<button type="button" class="btn btn-info"><i class="fas fa-edit"></i> Edit </button>'.html_safe, edit_requirement_path(requirement) %>    
        </td>

        <td>
          <%= link_to '<button type="button" class="btn btn-danger"><i class="fas fa-trash"></i> Destroy </button>'.html_safe, requirement_path , method: :delete, data: { confirm: 'Are you sure?' } %>

        </td>

        <td class="text-center">
          
              <% if requirement.satisfied == true %>
                  <p style="color:green;"><i class="fas fa-check-circle"></i> Approved</p>
              <% else %>               
                  <!-- non-satisfied -->
                  <%= link_to '<button type="button" class="btn btn-success"><i class="fas fa-check-square"></i> Approve</button>'.html_safe, "/requirements/approve?id=#{requirement.id}"%>          
              <% end %>
      <% end %>
          
        </td>
        
      </tr>
    <% end %>
  </tbody>

</table>

<br>


